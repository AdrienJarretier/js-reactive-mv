<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Observer test</title>


    <script src="Observer.js"></script>
    <script src="MV.js"></script>

    <style>
        div {
            margin-top: 20px;
        }
    </style>
</head>

<body>

    <div id="links">
        <a href="#!">insect</a> <br>
        <a href="#!">tiger</a>
    </div>

    <div>
        <input id="input-contentTitle" type="text">
    </div>

    <div>
        <textarea id="textArea-contentInput"></textarea>
    </div>

    <div id="output"></div>

    <div id="clickedLinkOutput"></div>


    <script>

        let model = new Model();
        let view = new View(model);

        let contents = {
            'insect': {
                'title': 'insect',
                'text': 'bzzzz bzzzz bzzzz'
            },
            'tiger': {
                'title': 'tiger',
                'text': 'This is grrrr grrrr'
            }
        };

        model.addKey('clickedLink');
        model.addKey('active-content');

        view.addGroupedClickable(
            document.getElementById('links').getElementsByTagName('a'),
            'clickedLink');

        view.addCustomObserver((v) => {
            model.set('active-content', contents[v]);
        }, 'clickedLink');

        view.addInput(
            document.getElementById('textArea-contentInput'),
            'active-content', 'text');





    </script>
</body>

</html>